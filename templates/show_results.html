<!doctype html>
<html>
  <head>
    <title>Flaskr</title>
      <script src="{{url_for('static', filename='plotly-latest.min.js') }}"></script>
  </head>
  <body>
    <div>{{ chart_data }}</div>
    <div id="agent_frequency" style="width:600px;height:250px;"></div>
    <div class=page>
      <table>
        <tr>
          <th>Timestamp</th>
          <th>Source IP</th>
          <th>UserAgent</th>
          <th>Beacon ID</th>
        </tr>
        {% for hit in hits %}
        <tr>
          <td>{{ hit.timestamp }} </td>
          <td>{{ hit.ip }} </td>
          <td>{{ hit.useragent }} </td>
          <td><a href="{{ url_for('results', beacon_id=hit.beaconid)}}">{{ hit.beaconid }}</a> </td>
        </tr>
        {% endfor %}
      </table>
    </div>
  </body>
<script type="text/javascript">var chart_data = {{ chart_data|safe }};</script>
<script src="{{url_for('static', filename='agent_frequency.js') }}"></script>
</html>
